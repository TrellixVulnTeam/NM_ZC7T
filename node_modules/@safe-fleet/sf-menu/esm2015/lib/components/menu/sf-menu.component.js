import { Component, Input, ViewChild } from '@angular/core';
import { trigger, transition, style, animate } from '@angular/animations';
import { MenuConfig } from '../../models/menu-config';
import { SfMenuService } from '../../sf-menu.service';
import { TooltipDirective } from '@progress/kendo-angular-tooltip';
export class SfMenuComponent {
    constructor(svc) {
        this.svc = svc;
        this.collapsed = false;
    }
    set config(value) {
        this.svc.setMenuConfig(value);
    }
    ngOnInit() {
        const clr = this.svc.colors;
        this.gradient = `linear-gradient(180deg, ${clr.gray200} 0%, ${clr.gray100} 100%)`;
        this.color = clr.gray900;
        this.configSubs$ = this.svc.menuConfig$.subscribe((cfg) => {
            this.menuConfig = cfg;
        });
        this.collapsedSubs$ = this.svc.menuCollapse$.subscribe((value) => {
            this.collapsed = value;
            if (this.tooltipDir) {
                this.tooltipDir.hide();
            }
        });
    }
    ngOnDestroy() {
        this.configSubs$.unsubscribe();
        this.collapsedSubs$.unsubscribe();
    }
    toggleMenu() {
        this.svc.menuCollapse$.next(!this.svc.menuCollapse$.value);
    }
}
SfMenuComponent.decorators = [
    { type: Component, args: [{
                selector: 'sf-menu',
                template: "<div class=\"sf-menu-container\" *ngIf=\"!menuConfig.hideMenu\">\n  <sf-top-menu [ngStyle]=\"{ 'border-bottom-color': menuConfig?.borderColor }\"></sf-top-menu>\n  <div\n    class=\"sf-menu-content\"\n    [class.collapsed]=\"collapsed\"\n    [ngStyle]=\"{ 'border-top-color': menuConfig?.borderColor }\"\n    [style.background]=\"gradient\"\n    kendoTooltip\n    showOn=\"{{ menuConfig.tooltips || collapsed ? 'hover' : 'none' }}\"\n    position=\"bottom\"\n  >\n    <sf-customer-logo [class.collapsed]=\"collapsed\" *ngIf=\"menuConfig.logoUrl || menuConfig.logoClass\"></sf-customer-logo>\n    <sf-menu-products [class.collapsed]=\"collapsed\"></sf-menu-products>\n    <div class=\"fm-menu-scrollable-content\">\n      <div class=\"scroll\">\n        <sf-menu-shortcuts *ngIf=\"menuConfig?.shortcuts && menuConfig.shortcuts.length > 0\"></sf-menu-shortcuts>\n        <sf-menu-routes *ngIf=\"menuConfig?.routes\"></sf-menu-routes>\n      </div>\n    </div>\n    <sf-menu-user></sf-menu-user>\n    <sf-menu-footer-logo></sf-menu-footer-logo>\n  </div>\n  <sf-menu-toggle-btn></sf-menu-toggle-btn>\n  <div class=\"sf-menu-backdrop\" *ngIf=\"!collapsed\" (click)=\"toggleMenu()\" [@appear]></div>\n</div>\n<div class=\"application-content\">\n  <ng-content></ng-content>\n</div>\n",
                animations: [
                    trigger('appear', [
                        transition(':enter', [style({ opacity: 0 }), animate(180, style({ opacity: 1 }))]),
                        transition(':leave', [style({ opacity: 1 }), animate(180, style({ opacity: 0 }))])
                    ])
                ],
                styles: [":host{width:100%;height:100%;display:grid;grid-template-areas:\"menu\" \"content\";grid-template-rows:auto 1fr;grid-template-columns:1fr}@media screen and (min-width:768px){:host{grid-template-areas:\"menu content\";grid-template-rows:1fr;grid-template-columns:auto 1fr}}.sf-menu-container{grid-area:menu;position:relative}.sf-menu-content{height:auto;max-height:calc(100% - 70px);width:250px;border-bottom:none;transition:transform .12s ease-out,width .12s ease-out;overflow-y:auto;position:fixed;z-index:10000}.sf-menu-content::-webkit-scrollbar{width:6px;background-color:transparent}.sf-menu-content::-webkit-scrollbar-thumb{border-radius:10px;background-color:var(--clr-gray-400)}.sf-menu-content.collapsed{transform:translateX(-100%)}@media screen and (min-width:768px){.sf-menu-content{display:flex;flex-direction:column;justify-content:space-between;border-top:5px solid #00a2fe;position:relative;height:100%;max-height:100%;width:250px;overflow:hidden}.sf-menu-content.collapsed{transform:translateX(0);width:75px}}@media screen and (max-width:380px){.sf-menu-content{max-height:calc(100% - 48px)}}.sf-menu-backdrop{position:fixed;width:100%;height:100%;background-color:rgba(0,0,0,.71);z-index:9999}.application-content{grid-area:content;overflow:auto;height:100%;position:relative}.sf-menu-logo-bg{background:50%/contain no-repeat}.fm-menu-scrollable-content{display:flex;flex-direction:column;width:100%;height:auto;align-items:flex-start;justify-content:flex-start;overflow:hidden;position:relative;flex:1 0 120px;padding:0}.fm-menu-scrollable-content:before{content:\" \";width:100%;height:1px;background-color:#fff;opacity:.15}.fm-menu-scrollable-content ul{list-style:none;padding-left:0;width:100%}.fm-menu-scrollable-content :before{display:none}.fm-menu-scrollable-content .scroll{overflow-y:auto;overflow-x:hidden;width:100%}.fm-menu-scrollable-content .scroll::-webkit-scrollbar{width:6px;background-color:transparent}.fm-menu-scrollable-content .scroll::-webkit-scrollbar-thumb{border-radius:10px;background-color:#5b616a}@media screen and (min-width:768px){.fm-menu-scrollable-content .scroll{max-height:65vh}}"]
            },] }
];
SfMenuComponent.ctorParameters = () => [
    { type: SfMenuService }
];
SfMenuComponent.propDecorators = {
    borderColor: [{ type: Input }],
    config: [{ type: Input, args: ['config',] }],
    tooltipDir: [{ type: ViewChild, args: [TooltipDirective,] }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2YtbWVudS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9zZi1tZW51L3NyYy9saWIvY29tcG9uZW50cy9tZW51L3NmLW1lbnUuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQXFCLEtBQUssRUFBRSxTQUFTLEVBQWUsTUFBTSxlQUFlLENBQUM7QUFDNUYsT0FBTyxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQzFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUV0RCxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDdEQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0saUNBQWlDLENBQUM7QUFhbkUsTUFBTSxPQUFPLGVBQWU7SUFtQjFCLFlBQXFCLEdBQWtCO1FBQWxCLFFBQUcsR0FBSCxHQUFHLENBQWU7UUFMdkMsY0FBUyxHQUFHLEtBQUssQ0FBQztJQUt3QixDQUFDO0lBaEIzQyxJQUNJLE1BQU0sQ0FBQyxLQUFpQjtRQUMxQixJQUFJLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNoQyxDQUFDO0lBZUQsUUFBUTtRQUNOLE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDO1FBQzVCLElBQUksQ0FBQyxRQUFRLEdBQUcsMkJBQTJCLEdBQUcsQ0FBQyxPQUFPLFFBQVEsR0FBRyxDQUFDLE9BQU8sUUFBUSxDQUFDO1FBQ2xGLElBQUksQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQztRQUN6QixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFO1lBQ3hELElBQUksQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRTtZQUMvRCxJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztZQUN2QixJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUU7Z0JBQ25CLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLENBQUM7YUFDeEI7UUFDSCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRCxXQUFXO1FBQ1QsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUMvQixJQUFJLENBQUMsY0FBYyxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ3BDLENBQUM7SUFFRCxVQUFVO1FBQ1IsSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDN0QsQ0FBQzs7O1lBdkRGLFNBQVMsU0FBQztnQkFDVCxRQUFRLEVBQUUsU0FBUztnQkFDbkIsMHdDQUF1QztnQkFFdkMsVUFBVSxFQUFFO29CQUNWLE9BQU8sQ0FBQyxRQUFRLEVBQUU7d0JBQ2hCLFVBQVUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxLQUFLLENBQUMsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxPQUFPLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQzt3QkFDbEYsVUFBVSxDQUFDLFFBQVEsRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO3FCQUNuRixDQUFDO2lCQUNIOzthQUNGOzs7WUFiUSxhQUFhOzs7MEJBZW5CLEtBQUs7cUJBRUwsS0FBSyxTQUFDLFFBQVE7eUJBY2QsU0FBUyxTQUFDLGdCQUFnQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBPbkRlc3Ryb3ksIElucHV0LCBWaWV3Q2hpbGQsIEhvc3RCaW5kaW5nIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyB0cmlnZ2VyLCB0cmFuc2l0aW9uLCBzdHlsZSwgYW5pbWF0ZSB9IGZyb20gJ0Bhbmd1bGFyL2FuaW1hdGlvbnMnO1xuaW1wb3J0IHsgTWVudUNvbmZpZyB9IGZyb20gJy4uLy4uL21vZGVscy9tZW51LWNvbmZpZyc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IFNmTWVudVNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZi1tZW51LnNlcnZpY2UnO1xuaW1wb3J0IHsgVG9vbHRpcERpcmVjdGl2ZSB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1hbmd1bGFyLXRvb2x0aXAnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdzZi1tZW51JyxcbiAgdGVtcGxhdGVVcmw6ICcuL3NmLW1lbnUuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9zZi1tZW51LWNvbXBvbmVudC5zY3NzJ10sXG4gIGFuaW1hdGlvbnM6IFtcbiAgICB0cmlnZ2VyKCdhcHBlYXInLCBbXG4gICAgICB0cmFuc2l0aW9uKCc6ZW50ZXInLCBbc3R5bGUoeyBvcGFjaXR5OiAwIH0pLCBhbmltYXRlKDE4MCwgc3R5bGUoeyBvcGFjaXR5OiAxIH0pKV0pLFxuICAgICAgdHJhbnNpdGlvbignOmxlYXZlJywgW3N0eWxlKHsgb3BhY2l0eTogMSB9KSwgYW5pbWF0ZSgxODAsIHN0eWxlKHsgb3BhY2l0eTogMCB9KSldKVxuICAgIF0pXG4gIF1cbn0pXG5leHBvcnQgY2xhc3MgU2ZNZW51Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3kge1xuICBASW5wdXQoKSBib3JkZXJDb2xvcjogc3RyaW5nO1xuXG4gIEBJbnB1dCgnY29uZmlnJylcbiAgc2V0IGNvbmZpZyh2YWx1ZTogTWVudUNvbmZpZykge1xuICAgIHRoaXMuc3ZjLnNldE1lbnVDb25maWcodmFsdWUpO1xuICB9XG5cbiAgbWVudUNvbmZpZzogTWVudUNvbmZpZztcbiAgcHJpdmF0ZSBjb25maWdTdWJzJDogU3Vic2NyaXB0aW9uO1xuXG4gIGdyYWRpZW50OiBzdHJpbmc7XG4gIGNvbG9yOiBzdHJpbmc7XG5cbiAgY29sbGFwc2VkID0gZmFsc2U7XG4gIHByaXZhdGUgY29sbGFwc2VkU3VicyQ6IFN1YnNjcmlwdGlvbjtcblxuICBAVmlld0NoaWxkKFRvb2x0aXBEaXJlY3RpdmUpIHB1YmxpYyB0b29sdGlwRGlyOiBUb29sdGlwRGlyZWN0aXZlO1xuXG4gIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHN2YzogU2ZNZW51U2VydmljZSkge31cblxuICBuZ09uSW5pdCgpIHtcbiAgICBjb25zdCBjbHIgPSB0aGlzLnN2Yy5jb2xvcnM7XG4gICAgdGhpcy5ncmFkaWVudCA9IGBsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCAke2Nsci5ncmF5MjAwfSAwJSwgJHtjbHIuZ3JheTEwMH0gMTAwJSlgO1xuICAgIHRoaXMuY29sb3IgPSBjbHIuZ3JheTkwMDtcbiAgICB0aGlzLmNvbmZpZ1N1YnMkID0gdGhpcy5zdmMubWVudUNvbmZpZyQuc3Vic2NyaWJlKChjZmcpID0+IHtcbiAgICAgIHRoaXMubWVudUNvbmZpZyA9IGNmZztcbiAgICB9KTtcblxuICAgIHRoaXMuY29sbGFwc2VkU3VicyQgPSB0aGlzLnN2Yy5tZW51Q29sbGFwc2UkLnN1YnNjcmliZSgodmFsdWUpID0+IHtcbiAgICAgIHRoaXMuY29sbGFwc2VkID0gdmFsdWU7XG4gICAgICBpZiAodGhpcy50b29sdGlwRGlyKSB7XG4gICAgICAgIHRoaXMudG9vbHRpcERpci5oaWRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcbiAgICB0aGlzLmNvbmZpZ1N1YnMkLnVuc3Vic2NyaWJlKCk7XG4gICAgdGhpcy5jb2xsYXBzZWRTdWJzJC51bnN1YnNjcmliZSgpO1xuICB9XG5cbiAgdG9nZ2xlTWVudSgpIHtcbiAgICB0aGlzLnN2Yy5tZW51Q29sbGFwc2UkLm5leHQoIXRoaXMuc3ZjLm1lbnVDb2xsYXBzZSQudmFsdWUpO1xuICB9XG59XG4iXX0=