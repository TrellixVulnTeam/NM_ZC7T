import { animate, style, transition, trigger } from '@angular/animations';
import { Component, HostBinding } from '@angular/core';
import { MenuEventType } from '../../models/menu-events';
import { SfMenuService } from '../../sf-menu.service';
export class TopMenuComponent {
    constructor(svc) {
        this.svc = svc;
        this.collapsed = false;
    }
    get bgColor() {
        return this.backgroundColor;
    }
    ngOnInit() {
        this.activeLink = this.svc.colors.gray300;
        this.iconColor = this.svc.colors.gray800;
        this.backgroundColor = this.svc.colors.gray200;
        this.configSubs$ = this.svc.menuConfig$.subscribe((cfg) => {
            this.menuConfig = cfg;
        });
        this.collapsedSubs$ = this.svc.menuCollapse$.subscribe((value) => {
            this.collapsed = value;
        });
    }
    ngOnDestroy() {
        this.configSubs$.unsubscribe();
        this.collapsedSubs$.unsubscribe();
    }
    shortcutClicked(shortcut) {
        this.svc.events$.next({
            type: MenuEventType.ShortcutClick,
            value: shortcut
        });
        if (window.innerWidth <= this.svc.SMALL_RESOLUTION && !this.collapsed) {
            this.svc.menuCollapse$.next(!this.svc.menuCollapse$.value);
        }
    }
    toggleMenu() {
        this.svc.menuCollapse$.next(!this.svc.menuCollapse$.value);
    }
}
TopMenuComponent.decorators = [
    { type: Component, args: [{
                selector: 'sf-top-menu',
                template: "<div class=\"sf-top-menu-left\">\n  <em class=\"sf-top-menu-toggle-bars fa fa-2x fa-bars\" (click)=\"toggleMenu()\" [style.color]=\"iconColor\"></em>\n</div>\n\n<div class=\"sf-top-menu-middle\">\n  <div class=\"sf-menu-logo-bg\" *ngIf=\"menuConfig.logoUrl\" [ngStyle]=\"{ 'background-image': 'url(' + menuConfig.logoUrl + ')' }\"></div>\n  <em [ngClass]=\"menuConfig.logoClass\" class=\"sf-menu-top-logo\" *ngIf=\"!menuConfig.logoUrl && menuConfig.logoClass\"></em>\n  <svg\n    class=\"sf-menu-top-logo\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 1182 263\"\n    fill=\"#1B4C86\"\n    *ngIf=\"!menuConfig.logoUrl && !menuConfig.logoClass\"\n    [@appear-fast]\n  >\n    <path\n      [attr.fill]=\"iconColor\"\n      d=\"M55.2,145.2 C74.8,147.2 94.4,150.1 94.4,162.9 C94.4,179.3 70.4,183.8 49.4,183.8 C22,183.8 2.1,178 0.4,160 L11.7,160 C13.7,174 28.8,177.4 49.5,177.4 C65.7,177.4 82.5,174.7 82.5,164.1 C82.5,153.9 62.8,152.7 43.2,150.7 C17.5,148.2 3.7,143.7 3.7,132.9 C3.7,118.3 25.4,113.5 46.3,113.5 C68.3,113.5 90.6,118.4 91.3,134.3 L80.1,134.3 C78.6,122.9 63.6,119.9 46.2,119.9 C28.9,119.9 15.7,124.1 15.7,131.7 C15.7,140.4 28.9,142.5 55.2,145.2 Z M128.3,155.4 L176,155.4 L152.3,122.1 L128.3,155.4 Z M146,115.2 L159,115.2 L208,182.1 L195,182.1 L180.6,161.8 L123.8,161.8 L109.1,182.1 L97,182.1 L146,115.2 Z M217,182.1 L217,115.2 L297.9,115.2 L297.9,121.6 L228.2,121.6 L228.2,144.3 L294.4,144.3 L294.4,150.6 L228.2,150.6 L228.2,182.1 L217,182.1 Z M322.4,150.6 L322.4,175.7 L398.3,175.7 L398.3,182.1 L311.2,182.1 L311.2,115.2 L397.1,115.2 L397.1,121.6 L322.4,121.6 L322.4,144.2 L394.4,144.2 L394.4,150.6 L322.4,150.6 Z M707.1,182.1 L707.1,115.2 L788,115.2 L788,121.6 L718.3,121.6 L718.3,144.3 L784.5,144.3 L784.5,150.6 L718.3,150.6 L718.3,182.1 L707.1,182.1 Z M810.7,115.2 L810.7,175.7 L879.1,175.7 L879.1,182.1 L799.5,182.1 L799.5,115.2 L810.7,115.2 Z M902.1,150.6 L902.1,175.7 L978,175.7 L978,182.1 L890.9,182.1 L890.9,115.2 L976.8,115.2 L976.8,121.6 L902.1,121.6 L902.1,144.2 L974.1,144.2 L974.1,150.6 L902.1,150.6 Z M1005.7,150.6 L1005.7,175.7 L1081.5,175.7 L1081.5,182.1 L994.5,182.1 L994.5,115.2 L1080.3,115.2 L1080.3,121.6 L1005.7,121.6 L1005.7,144.2 L1077.6,144.2 L1077.6,150.6 L1005.7,150.6 Z M1085.9,115.2 L1181.8,115.2 L1181.8,121.6 L1139.4,121.6 L1139.4,182.1 L1128.2,182.1 L1128.2,121.6 L1085.9,121.6 L1085.9,115.2 Z M645.7,172.8 C668.1,124.1 664.4,42.1 664.3,38.6 L664.1,34.3 L659.8,34.3 C595.3,34.3 555.2,9.6 554.8,9.3 L552.4,7.8 L550,9.3 C549.7,9.6 509.7,34.3 445.2,34.3 L440.9,34.3 L440.7,38.6 C440.5,42 436.8,124.1 459.2,172.8 C476.4,210 508.1,237.8 550.9,253.4 L552.4,254 L553.9,253.4 C596.8,237.9 628.5,210 645.7,172.8 Z M433.1,28.5 C507.3,28.5 552.3,0 552.3,0 C552.3,0 597.5,28.5 671.6,28.5 C671.6,28.5 676.1,121.7 651.4,175.3 C634.1,212.6 602.2,244.2 552.2,262.3 C502.4,244.2 470.5,212.6 453.2,175.3 C428.5,121.7 433.1,28.5 433.1,28.5 Z M629.9,76.8 C630.1,70.1 630.1,64.5 630,60.5 L523.9,60.5 C486.9,60.5 479.1,77.1 479.1,91.1 C479.1,101.6 484.9,111 496.3,118.9 L523.5,137.5 C529.9,141.8 532.8,144.4 534.1,145.8 C536.2,147.9 537.2,150 537.2,151.8 C537.2,154.8 537.2,161.2 523.6,161.2 L487,161 C490.3,166.8 494.3,172.4 498.8,177.6 L520.3,177.6 C532.7,177.6 544.6,175.9 551.9,172.5 L551.9,211.1 C562.6,207.2 569.7,202.4 578,196.9 L578,122.7 L625.3,122.7 C626.4,117.1 627.2,111.4 627.9,105.8 L578,105.8 L578,81 C578,78.8 578.4,77.7 578.9,77.4 C578.9,77.3 580.2,76.8 585.1,76.8 L629.9,76.8 Z M552.3,18.4 C561.9,23.8 598.9,42.4 655.4,43.3 C655.8,60.8 656.2,128.5 637.5,169.1 C621.5,203.6 592.1,229.7 552.3,244.5 C512.6,229.6 483.2,203.6 467.3,169.1 C448.6,128.5 449,60.8 449.4,43.3 C505.9,42.4 542.8,23.8 552.3,18.4 Z M507.6,86.1 C507.6,83.1 507.6,76.8 521.2,76.8 L551.9,76.8 L551.9,120 C551.4,119.7 551,119.4 550.5,119.1 L521.1,100.9 C516,97.4 512.5,94.5 510.5,92.4 C508.5,90.3 507.6,88.2 507.6,86.1 Z\"\n    />\n  </svg>\n</div>\n\n<div class=\"sf-top-menu-right\">\n  <ng-container *ngFor=\"let shortcut of menuConfig?.shortcuts\">\n    <em\n      *ngIf=\"shortcut.iconClass\"\n      [ngClass]=\"shortcut.iconClass\"\n      (click)=\"shortcutClicked(shortcut)\"\n      [style.background-color]=\"shortcut.active ? activeLink : ''\"\n      [style.color]=\"iconColor\"\n    ></em>\n    <div *ngIf=\"!shortcut.iconClass && shortcut.iconPath\" class=\"img-wrapper\" [style.background-color]=\"shortcut.active ? activeLink : ''\">\n      <div\n        class=\"sf-menu-logo-bg\"\n        [ngStyle]=\"{ 'background-image': 'url(' + shortcut.iconPath + ')' }\"\n        (click)=\"shortcutClicked(shortcut)\"\n      ></div>\n    </div>\n  </ng-container>\n</div>\n",
                animations: [
                    trigger('appear-fast', [transition(':enter', [style({ opacity: 0 }), animate('80ms 120ms ease-in', style({ opacity: 1 }))])])
                ],
                styles: [":host{display:block;display:flex;flex-direction:row;justify-content:space-between;align-items:center;height:70px;border-bottom:4px solid transparent;max-width:100vw}@media screen and (min-width:768px){:host{display:none}}:host .sf-menu-logo-bg{background:50%/contain no-repeat;width:8em;height:4em}:host .sf-top-menu-middle{flex:1 0 4em;height:100%;padding:5px 0;display:flex}:host .sf-top-menu-left,:host .sf-top-menu-right{height:100%;flex:0 1 100%;width:8em;padding:5px 10px;display:flex;align-items:center;overflow:hidden}:host .sf-top-menu-left>*,:host .sf-top-menu-right>*{padding:0 10px;border-radius:4px}:host .sf-top-menu-left em,:host .sf-top-menu-left i,:host .sf-top-menu-right em,:host .sf-top-menu-right i{font-size:1.6em;height:100%;display:flex;align-items:center}:host .sf-top-menu-left>div,:host .sf-top-menu-right>div{height:100%}:host .sf-top-menu-left>div div,:host .sf-top-menu-right>div div{width:1.6em}:host .sf-top-menu-right{justify-content:flex-end}@media screen and (max-width:380px){:host{height:48px}:host .sf-menu-logo-bg{height:2.4em;width:4.8em}:host .sf-top-menu-left,:host .sf-top-menu-right{font-size:.8em}}.sf-menu-top-logo{-o-object-fit:contain;object-fit:contain;text-align:center;align-self:center;justify-self:center;height:auto;width:50%;max-height:calc(70px * .7);width:120px;filter:brightness(1) grayscale(1)}"]
            },] }
];
TopMenuComponent.ctorParameters = () => [
    { type: SfMenuService }
];
TopMenuComponent.propDecorators = {
    bgColor: [{ type: HostBinding, args: ['style.background-color',] }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9wLW1lbnUuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvc2YtbWVudS9zcmMvbGliL2NvbXBvbmVudHMvdG9wLW1lbnUvdG9wLW1lbnUuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUMxRSxPQUFPLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBcUIsTUFBTSxlQUFlLENBQUM7QUFHMUUsT0FBTyxFQUFhLGFBQWEsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBRXBFLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQVV0RCxNQUFNLE9BQU8sZ0JBQWdCO0lBYzNCLFlBQXFCLEdBQWtCO1FBQWxCLFFBQUcsR0FBSCxHQUFHLENBQWU7UUFQdkMsY0FBUyxHQUFHLEtBQUssQ0FBQztJQU93QixDQUFDO0lBSjNDLElBQTJDLE9BQU87UUFDaEQsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDO0lBQzlCLENBQUM7SUFJRCxRQUFRO1FBQ04sSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUM7UUFDMUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUM7UUFDekMsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUM7UUFDL0MsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRTtZQUN4RCxJQUFJLENBQUMsVUFBVSxHQUFHLEdBQUcsQ0FBQztRQUN4QixDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLENBQUMsS0FBSyxFQUFFLEVBQUU7WUFDL0QsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7UUFDekIsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQsV0FBVztRQUNULElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDL0IsSUFBSSxDQUFDLGNBQWMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUNwQyxDQUFDO0lBRUQsZUFBZSxDQUFDLFFBQWtCO1FBQ2hDLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQztZQUNwQixJQUFJLEVBQUUsYUFBYSxDQUFDLGFBQWE7WUFDakMsS0FBSyxFQUFFLFFBQVE7U0FDSCxDQUFDLENBQUM7UUFDaEIsSUFBSSxNQUFNLENBQUMsVUFBVSxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ3JFLElBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQzVEO0lBQ0gsQ0FBQztJQUVELFVBQVU7UUFDUixJQUFJLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUM3RCxDQUFDOzs7WUF0REYsU0FBUyxTQUFDO2dCQUNULFFBQVEsRUFBRSxhQUFhO2dCQUN2QixnZ0pBQXdDO2dCQUV4QyxVQUFVLEVBQUU7b0JBQ1YsT0FBTyxDQUFDLGFBQWEsRUFBRSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxLQUFLLENBQUMsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxPQUFPLENBQUMsb0JBQW9CLEVBQUUsS0FBSyxDQUFDLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztpQkFDOUg7O2FBQ0Y7OztZQVRRLGFBQWE7OztzQkFvQm5CLFdBQVcsU0FBQyx3QkFBd0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhbmltYXRlLCBzdHlsZSwgdHJhbnNpdGlvbiwgdHJpZ2dlciB9IGZyb20gJ0Bhbmd1bGFyL2FuaW1hdGlvbnMnO1xuaW1wb3J0IHsgQ29tcG9uZW50LCBIb3N0QmluZGluZywgT25EZXN0cm95LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgTWVudUNvbmZpZyB9IGZyb20gJy4uLy4uL21vZGVscy9tZW51LWNvbmZpZyc7XG5pbXBvcnQgeyBNZW51RXZlbnQsIE1lbnVFdmVudFR5cGUgfSBmcm9tICcuLi8uLi9tb2RlbHMvbWVudS1ldmVudHMnO1xuaW1wb3J0IHsgTWVudUl0ZW0gfSBmcm9tICcuLi8uLi9tb2RlbHMvbWVudS1pdGVtJztcbmltcG9ydCB7IFNmTWVudVNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZi1tZW51LnNlcnZpY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdzZi10b3AtbWVudScsXG4gIHRlbXBsYXRlVXJsOiAnLi90b3AtbWVudS5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL3RvcC1tZW51LmNvbXBvbmVudC5zY3NzJ10sXG4gIGFuaW1hdGlvbnM6IFtcbiAgICB0cmlnZ2VyKCdhcHBlYXItZmFzdCcsIFt0cmFuc2l0aW9uKCc6ZW50ZXInLCBbc3R5bGUoeyBvcGFjaXR5OiAwIH0pLCBhbmltYXRlKCc4MG1zIDEyMG1zIGVhc2UtaW4nLCBzdHlsZSh7IG9wYWNpdHk6IDEgfSkpXSldKVxuICBdXG59KVxuZXhwb3J0IGNsYXNzIFRvcE1lbnVDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSB7XG4gIG1lbnVDb25maWc6IE1lbnVDb25maWc7XG4gIHByaXZhdGUgY29uZmlnU3VicyQ6IFN1YnNjcmlwdGlvbjtcbiAgYWN0aXZlTGluazogc3RyaW5nO1xuICBpY29uQ29sb3I6IHN0cmluZztcbiAgYmFja2dyb3VuZENvbG9yOiBzdHJpbmc7XG5cbiAgY29sbGFwc2VkID0gZmFsc2U7XG4gIHByaXZhdGUgY29sbGFwc2VkU3VicyQ6IFN1YnNjcmlwdGlvbjtcblxuICBASG9zdEJpbmRpbmcoJ3N0eWxlLmJhY2tncm91bmQtY29sb3InKSBnZXQgYmdDb2xvcigpIHtcbiAgICByZXR1cm4gdGhpcy5iYWNrZ3JvdW5kQ29sb3I7XG4gIH1cblxuICBjb25zdHJ1Y3RvcihyZWFkb25seSBzdmM6IFNmTWVudVNlcnZpY2UpIHt9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5hY3RpdmVMaW5rID0gdGhpcy5zdmMuY29sb3JzLmdyYXkzMDA7XG4gICAgdGhpcy5pY29uQ29sb3IgPSB0aGlzLnN2Yy5jb2xvcnMuZ3JheTgwMDtcbiAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9IHRoaXMuc3ZjLmNvbG9ycy5ncmF5MjAwO1xuICAgIHRoaXMuY29uZmlnU3VicyQgPSB0aGlzLnN2Yy5tZW51Q29uZmlnJC5zdWJzY3JpYmUoKGNmZykgPT4ge1xuICAgICAgdGhpcy5tZW51Q29uZmlnID0gY2ZnO1xuICAgIH0pO1xuXG4gICAgdGhpcy5jb2xsYXBzZWRTdWJzJCA9IHRoaXMuc3ZjLm1lbnVDb2xsYXBzZSQuc3Vic2NyaWJlKCh2YWx1ZSkgPT4ge1xuICAgICAgdGhpcy5jb2xsYXBzZWQgPSB2YWx1ZTtcbiAgICB9KTtcbiAgfVxuXG4gIG5nT25EZXN0cm95KCkge1xuICAgIHRoaXMuY29uZmlnU3VicyQudW5zdWJzY3JpYmUoKTtcbiAgICB0aGlzLmNvbGxhcHNlZFN1YnMkLnVuc3Vic2NyaWJlKCk7XG4gIH1cblxuICBzaG9ydGN1dENsaWNrZWQoc2hvcnRjdXQ6IE1lbnVJdGVtKSB7XG4gICAgdGhpcy5zdmMuZXZlbnRzJC5uZXh0KHtcbiAgICAgIHR5cGU6IE1lbnVFdmVudFR5cGUuU2hvcnRjdXRDbGljayxcbiAgICAgIHZhbHVlOiBzaG9ydGN1dFxuICAgIH0gYXMgTWVudUV2ZW50KTtcbiAgICBpZiAod2luZG93LmlubmVyV2lkdGggPD0gdGhpcy5zdmMuU01BTExfUkVTT0xVVElPTiAmJiAhdGhpcy5jb2xsYXBzZWQpIHtcbiAgICAgIHRoaXMuc3ZjLm1lbnVDb2xsYXBzZSQubmV4dCghdGhpcy5zdmMubWVudUNvbGxhcHNlJC52YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlTWVudSgpIHtcbiAgICB0aGlzLnN2Yy5tZW51Q29sbGFwc2UkLm5leHQoIXRoaXMuc3ZjLm1lbnVDb2xsYXBzZSQudmFsdWUpO1xuICB9XG59XG4iXX0=