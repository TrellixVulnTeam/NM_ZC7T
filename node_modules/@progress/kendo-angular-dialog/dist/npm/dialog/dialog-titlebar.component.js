/**-----------------------------------------------------------------------------------------
* Copyright Â© 2021 Progress Software Corporation. All rights reserved.
* Licensed under commercial license. See LICENSE.md in the project root for more information
*-------------------------------------------------------------------------------------------*/
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var core_1 = require("@angular/core");
var kendo_angular_l10n_1 = require("@progress/kendo-angular-l10n");
var operators_1 = require("rxjs/operators");
var preventable_event_1 = require("../common/preventable-event");
var titlebar_localization_service_1 = require("../localization/titlebar-localization.service");
/**
 * Represents the [Kendo UI DialogTitleBar component for Angular]({% slug api_dialog_dialogtitlebarcomponent %}).
 *
 * It is used as part of the Dialog content when the component is created dynamically by using an [Angular service]({% slug service_dialog %}).
 */
var DialogTitleBarComponent = /** @class */ (function () {
    function DialogTitleBarComponent(zone, hostElement, localizationService) {
        this.zone = zone;
        this.hostElement = hostElement;
        this.localizationService = localizationService;
        /**
         * Fires when the close button of the title-bar is clicked.
         */
        this.close = new core_1.EventEmitter();
    }
    Object.defineProperty(DialogTitleBarComponent.prototype, "className", {
        get: function () {
            return true;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DialogTitleBarComponent.prototype, "closeButtonTitle", {
        get: function () {
            return this.closeTitle || this.localizationService.get('closeTitle');
        },
        enumerable: true,
        configurable: true
    });
    DialogTitleBarComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        this.zone.onStable.pipe(operators_1.take(1)).subscribe(function () {
            var element = _this.hostElement.nativeElement.querySelector('.k-dialog-title');
            element.setAttribute('id', _this.id);
        });
    };
    /**
     * @hidden
     */
    DialogTitleBarComponent.prototype.onCloseClick = function (e) {
        e.preventDefault();
        var eventArgs = new preventable_event_1.PreventableEvent();
        this.close.emit(eventArgs);
    };
    tslib_1.__decorate([
        core_1.Output(),
        tslib_1.__metadata("design:type", core_1.EventEmitter)
    ], DialogTitleBarComponent.prototype, "close", void 0);
    tslib_1.__decorate([
        core_1.Input(),
        tslib_1.__metadata("design:type", String)
    ], DialogTitleBarComponent.prototype, "id", void 0);
    tslib_1.__decorate([
        core_1.Input(),
        tslib_1.__metadata("design:type", String)
    ], DialogTitleBarComponent.prototype, "closeTitle", void 0);
    tslib_1.__decorate([
        core_1.HostBinding('class.k-window-titlebar'),
        core_1.HostBinding('class.k-dialog-titlebar'),
        tslib_1.__metadata("design:type", Boolean),
        tslib_1.__metadata("design:paramtypes", [])
    ], DialogTitleBarComponent.prototype, "className", null);
    DialogTitleBarComponent = tslib_1.__decorate([
        core_1.Component({
            selector: 'kendo-dialog-titlebar',
            providers: [
                titlebar_localization_service_1.TitleBarLocalizationService,
                {
                    provide: kendo_angular_l10n_1.LocalizationService,
                    useExisting: titlebar_localization_service_1.TitleBarLocalizationService
                },
                {
                    provide: kendo_angular_l10n_1.L10N_PREFIX,
                    useValue: 'kendo.dialog'
                }
            ],
            template: "\n         <ng-container\n            kendoDialogTitleBarLocalizedMessages\n            i18n-closeTitle=\"kendo.dialog.closeTitle|The title of the close button\"\n            closeTitle=\"Close\"\n        >\n            <div class=\"k-window-title k-dialog-title\">\n                <ng-content></ng-content>\n            </div>\n\n            <div class=\"k-window-actions k-dialog-actions\">\n                <button\n                    role=\"button\"\n                    [attr.title]=\"closeButtonTitle\"\n                    [attr.aria-label]=\"closeButtonTitle\"\n                    class=\"k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-window-action k-dialog-action k-dialog-close\"\n                    (click)=\"onCloseClick($event)\"\n                >\n                    <span class=\"k-button-icon k-icon k-i-x\"></span>\n                </button>\n            </div>\n        </ng-container>\n    "
        }),
        tslib_1.__param(2, core_1.Optional()),
        tslib_1.__metadata("design:paramtypes", [core_1.NgZone, core_1.ElementRef, kendo_angular_l10n_1.LocalizationService])
    ], DialogTitleBarComponent);
    return DialogTitleBarComponent;
}());
exports.DialogTitleBarComponent = DialogTitleBarComponent;
